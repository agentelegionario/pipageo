var db=require("../config/db_config.js");exports.list=function(a){db.Pa.find({},function(o,r){a(o?{error:"Não foi possivel retornar o Pa"}:r)})},exports.pa=function(a,o){db.Pa.findById(a,function(a,r){o(a?{error:"Não foi possivel retornar o Pa"}:r)})},exports.save=function(a,o,r,i,e,t,n,p){new db.Pa({codigo:a,latitudePA:o,LongetudePA:r,qtdePessoas:i,responsavel:Number,capacidade:t,cidade:n,idRota:Number,created_at:new Date}).save(function(a,o){p(a?{error:"Não foi possivel retornar o Pa"}:o)})},exports.update=function(a,o,r,i,e,t,n,p,d){db.Pa.findById(a,function(a,r){placa&&(r.codigo=o),geolocaPA&&(r.latitudePA=i),i&&(r.longetudePA=i),e&&(r.qtdePessoas=e),t&&(r.responsavel=t),n&&(r.capacidade=n),p&&(r.cidade=p),r.save(function(a,o){d(a?{error:"Não foi possivel Atualizar o Pa"}:o)})})},exports.delete=function(a,o){db.Pa.findById(a,function(r,i){r?null==r&&o({error:"PA"+a+" não encontrado"}):i.remove(function(r){r||o({error:"PA "+a+" excluido com sucesso"})})})};
