var db=require("../config/db_config.js");exports.list=function(a){db.Pa.find({},function(r,o){a(r?{error:"Não foi possivel retornar o Pa"}:o)})},exports.pa=function(a,r){db.Pa.find({placa:a},function(a,o){r(a?{error:"Não foi possivel retornar o Pa"}:o)})},exports.save=function(a,r,o,i,t,e,n,p){new db.Pa({placa:a,latitudePA:r,LongetudePA:o,qtdePessoas:i,responsavel:t,capacidade:e,cidade:n,created_at:new Date}).save(function(a,r){p(a?{error:"Não foi possivel retornar o Pa"}:r)})},exports.update=function(a,r,o,i,t,e,n,p,l){db.Pa.findById(a,function(a,o){placa&&(o.codigo=r),geolocaPA&&(o.latitudePA=i),i&&(o.longetudePA=i),t&&(o.qtdePessoas=t),e&&(o.responsavel=e),n&&(o.capacidade=n),p&&(o.cidade=p),o.save(function(a,r){l(a?{error:"Não foi possivel Atualizar o Pa"}:r)})})},exports.delete=function(a,r){db.Pa.findById(a,function(o,i){o?null==o&&r({error:"PA"+a+" não encontrado"}):i.remove(function(o){o||r({error:"PA "+a+" excluido com sucesso"})})})};
